{% extends 'layout_mining.html' %}
{% block body %}

<div class="row px-0" id="row1">
  <div class="col-sm-12">
    <ul class="list-group mb-auto">
      <li class="list-group-item d-flex justify-content-between lh-condensed bg-danger">
        <h3 class="mx-auto text-white">Mining Calculator</h3>
      </li>
      <li class="list-group-item d-flex justify-content-between lh-condensed">
        <div class="col"></div>
        <div class="col-sm-5"> <!-- this increases or decreases selectbox size -->
          <select id="locations" class="form-control form-control-sm">
            <option selected>Choose...</option>
            <option>Jita</option>
            <option>Pakkon - If I sits, I fits</option>
            <option>Tama - Caldari Business Tribunal</option>
          </select>
        </div>
        <div class="col">
          <input name="fetch" class="btn-sm btn-primary mt-0" type="button" value="Fetch On-Hand Assets">
        </div>
      </li>
      <li class="list-group-item d-flex justify-content-between lh-condensed p-1">
        <div class="col-12">
          <table class="table table-light">
            <tbody>
              <tr>
                <form action="{{ url_for('mining')}}" method="post">
                <td class="noBorder text-right"><strong>M3 per Cycle:</td>
                <td class="noBorder">
                    {% if calcs[0].user_id  %}
                      <input type="text" class="col-sm-5 form-control form-control-sm py-0" name="m3_per_cycle" value="{{ calcs[0].m3_per_cycle }}">
                    {% else %}
                      <input type="text" class="col-sm-5 form-control form-control-sm py-0" name="m3_per_cycle" value="300">
                    {% endif %}
                </td>
                <td class="noBorder py-2" colspan="2"></td>
                <td class="noBorder py-2 text-center"><strong>Total Mineral Requirement</td>
                <td class="noBorder py-2 text-center"><strong>Mined</td>
                <td class="noBorder py-2 text-center"><strong>Net</td>
              </tr>
              <tr>
                <td class="noBorder text-right py-0"><strong>Cycle Time:</td>
                <td class="noBorder py-0">
                    {% if calcs[0].user_id %}
                      <input type="text" class="col-sm-4 form-control form-control-sm py-0" name="cycle_time" value="{{ calcs[0].cycle_time }}">
                    {% else %}
                      <input type="text" class="col-sm-4 form-control form-control-sm py-0" name="cycle_time" value="120">
                    {% endif %}
                    </td>
                    <td class="noBorder py-1 text-right" colspan="2">Tritanium</td>
                    <td class="noBorder py-0">
                      {% if calcs[0].user_id %}
                        <input type="text" class="col-sm form-control form-control-sm py-0" name="trit_req" value="{{ "{:,.0f}".format(calcs[0].trit_required) }}">
                      {% else %}
                        <input type="text" class="col-sm form-control form-control-sm py-0" name="trit_req" value="0">
                      {% endif %}
                </td>
                <td class="noBorder py-0">
                  <input type="text" class="col-sm form-control form-control-sm py-0" name="trit_mined" value="0">
                </td>
                <td class="noBorder py-0">
                  <input type="text" class="col-sm form-control form-control-sm py-0" name="trit_net" value="0">
                </td>
                <td class="noBorder py-0"></td>
              </tr>
              <tr>
                <td class="noBorder text-right py-0"><strong># Cycles:</td>
                <td class="noBorder py-0">
                    {% if calcs[0].user_id %}
                      <input type="text" class="col-sm-4 form-control form-control-sm py-0" name="num_cycles" value="{{ "{:,.0f}".format(calcs[0].num_cycles) }}">
                    {% else %}
                      <input type="text" class="col-sm-4 form-control form-control-sm py-0" name="num_cycles" value="30">
                    {% endif %}
                </td>
                <td class="noBorder py-1 text-right" colspan="2">Pyerite</td>
                <td class="noBorder py-0">
                  {% if calcs[0].user_id %}
                    <input type="text" class="col-sm form-control form-control-sm py-0" name="pye_req" value="{{ "{:,.0f}".format(calcs[0].pye_required) }}">
                  {% else %}
                    <input type="text" class="col-sm form-control form-control-sm py-0" name="pye_req" value="0">
                  {% endif %}
                </td>
                <td class="noBorder py-0">
                  <input type="text" class="col-sm form-control form-control-sm py-0" id="pye_mined" value="0">
                </td>
                <td class="noBorder py-0">
                  <input type="text" class="col-sm form-control form-control-sm py-0" id="pye_net" value="0">
                </td>
                <td class="noBorder py-0"></td>
              </tr>
              <tr>
                <td class="noBorder text-center py-0" colspan="2">
                  <input name="upd_yield" class="btn-sm btn-secondary mt-0" type="submit" value="Update Yield Stats">
                </td>
                </form>
                <td class="noBorder py-1 text-right" colspan="2">Mexallon</td>
                <td class="noBorder py-0">
                  {% if calcs[0].user_id %}
                    <input type="text" class="col-sm form-control form-control-sm py-0" name="mex_req" value="{{ "{:,.0f}".format(calcs[0].mex_required) }}">
                  {% else %}
                    <input type="text" class="col-sm form-control form-control-sm py-0" name="mex_req" value="0">
                  {% endif %}
                </td>
                <td class="noBorder py-0">
                  <input type="text" class="col-sm form-control form-control-sm py-0" id="mex_mined" value="0">
                </td>
                <td class="noBorder py-0">
                  <input type="text" class="col-sm form-control form-control-sm py-0" id="mex_net" value="0">
                </td>
                <td class="noBorder py-0"></td>
              </tr>
              <tr>
                <td class="noBorder text-center text-white pt-1 bg-danger" colspan="2"><strong>Asteroid Targets</td>
                <td class="noBorder py-1 text-right" colspan="2">Isogen</td>
                <td class="noBorder py-0">
                  {% if calcs[0].user_id %}
                    <input type="text" class="col-sm form-control form-control-sm py-0" name="iso_req" value="{{ "{:,.0f}".format(calcs[0].iso_required) }}">
                  {% else %}
                    <input type="text" class="col-sm form-control form-control-sm py-0" name="iso_req" value="0">
                  {% endif %}
                </td>
                <td class="noBorder py-0">
                  <input type="text" class="col-sm form-control form-control-sm py-0" id="iso_mined" value="0">
                </td>
                <td class="noBorder py-0">
                  <input type="text" class="col-sm form-control form-control-sm py-0" id="iso_net" value="0">
                </td>
                <td class="noBorder py-0"></td>
              </tr>
              <tr>
                <td class="noBorder text-right py-0">
                  <select id="asteroid_groups" class="form-control form-control-sm" onchange="groupChange(this);">
                    <option value="empty">Asteroid Group... </option>
                    {% for group in asteroid_groups %}
                      <option value="{{group.group}}">{{group.group}}</option>
                    {% endfor %}
                  </select>
                </td>
                <td class="noBorder py-0">
                  <form action="{{ url_for('mining')}}" method="post">
                  <select name="asteroid" id="asteroid" class="form-control form-control-sm" onChange="this.form.submit()">
                    <option value="0">Asteroid...</option>
                  </select>
                </form>
                </td>
                <td class="noBorder py-0 text-right" colspan="2">Nocxium</td>
                <td class="noBorder py-0">
                  {% if calcs[0].user_id %}
                    <input type="text" class="col-sm form-control form-control-sm py-0" name="nox_req" value="{{ "{:,.0f}".format(calcs[0].nox_required) }}">
                  {% else %}
                    <input type="text" class="col-sm form-control form-control-sm py-0" name="nox_req" value="0">
                  {% endif %}
                </td>
                <td class="noBorder py-0">
                  <input type="text" class="col-sm form-control form-control-sm py-0" id="nox_mined" value="0">
                </td>
                <td class="noBorder py-0">
                  <input type="text" class="col-sm form-control form-control-sm py-0" id="nox_net" value="0">
                </td>
                <td class="noBorder py-0"></td>
              </tr>
              <tr>
                <td class="noBorder text-right py-0">
                  <select id="asteroid_groups1" class="form-control form-control-sm" onchange="groupChange1(this);">
                    <option value="empty">Asteroid Group... </option>
                    {% for group in asteroid_groups %}
                      <option value="{{group.group}}">{{group.group}}</option>
                    {% endfor %}
                  </select>
                </td>
                <td class="noBorder py-0">
                  <select id="asteroid1" class="form-control form-control-sm">
                    <option value="0">Asteroid...</option>
                  </select>
                </td>
                <td class="noBorder py-0 text-right" colspan="2">Zydrine</td>
                <td class="noBorder py-0">
                  {% if calcs[0].user_id %}
                    <input type="text" class="col-sm form-control form-control-sm py-0" name="zyd_req" value="{{ "{:,.0f}".format(calcs[0].zyd_required) }}">
                  {% else %}
                    <input type="text" class="col-sm form-control form-control-sm py-0" name="zyd_req" value="0">
                  {% endif %}
                </td>
                <td class="noBorder py-0">
                  <input type="text" class="col-sm form-control form-control-sm py-0" id="zyd_mined" value="0">
                </td>
                <td class="noBorder py-0">
                  <input type="text" class="col-sm form-control form-control-sm py-0" id="zyd_net" value="0">
                </td>
                <td class="noBorder py-0"></td>
              </tr>
              <tr>
                <td class="noBorder text-right py-0">
                  <select id="asteroid_groups2" class="form-control form-control-sm" onchange="groupChange2(this);">
                    <option value="empty">Asteroid Group... </option>
                    {% for group in asteroid_groups %}
                      <option value="{{group.group}}">{{group.group}}</option>
                    {% endfor %}
                  </select>
                </td>
                <td class="noBorder py-0">
                  <select id="asteroid2" class="form-control form-control-sm">
                    <option value="0">Asteroid...</option>
                  </select>
                </td>
                <td class="noBorder py-0 text-right" colspan="2">Megacyte</td>
                <td class="noBorder py-0">
                  {% if calcs[0].user_id %}
                    <input type="text" class="col-sm form-control form-control-sm py-0" name="meg_req" value="{{ "{:,.0f}".format(calcs[0].meg_required) }}">
                  {% else %}
                    <input type="text" class="col-sm form-control form-control-sm py-0" name="meg_req" value="0">
                  {% endif %}
                </td>
                <td class="noBorder py-0">
                  <input type="text" class="col-sm form-control form-control-sm py-0" id="meg_mined" value="0">
                </td>
                <td class="noBorder py-0">
                  <input type="text" class="col-sm form-control form-control-sm py-0" id="meg_net" value="0">
                </td>
                <td class="noBorder py-0"></td>
              </tr>
              <tr>
                <td class="noBorder text-right py-0">
                  <select id="asteroid_groups3" class="form-control form-control-sm" onchange="groupChange3(this);">
                    <option value="empty">Asteroid Group... </option>
                    {% for group in asteroid_groups %}
                      <option value="{{group.group}}">{{group.group}}</option>
                    {% endfor %}
                  </select>
                </td>
                <td class="noBorder py-0">
                  <select id="asteroid3" class="form-control form-control-sm">
                    <option value="0">Asteroid...</option>
                  </select>
                </td>
                <td class="noBorder py-0 text-right" colspan="2">Morphite</td>
                <td class="noBorder py-0">
                  {% if calcs[0].user_id %}
                    <input type="text" class="col-sm form-control form-control-sm py-0" name="morp_req" value="{{ "{:,.0f}".format(calcs[0].morph_required) }}">
                  {% else %}
                    <input type="text" class="col-sm form-control form-control-sm py-0" name="morp_req" value="0">
                  {% endif %}
                </td>
                <td class="noBorder py-0">
                  <input type="text" class="col-sm form-control form-control-sm py-0" id="morp_mined" value="0">
                </td>
                <td class="noBorder py-0">
                  <input type="text" class="col-sm form-control form-control-sm py-0" id="morp_net" value="0">
                </td>
                <td class="noBorder py-0"></td>
              </tr>

            </tbody>
          </table>
        </div>
      </li>
      <li class="list-group-item d-flex justify-content-between lh-condensed">
          <h5 class="text-center col-sm-12 text-primary">
            Ore Distribution Chart
          </h5>
        </li>
        <li class="list-group-item d-flex justify-content-between lh-condensed">
          <img src="{{ url_for('static', filename='img/mining_chart.png') }}" class="img-fluid mx-auto" alt="Ore Chart" width="1000">
      </li>
    </ul>
  </div>
</div>


</div> <!-- main -->
{% endblock %}
